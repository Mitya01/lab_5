## Лабораторная работа №5

## Задание 1 - Автоматизация проверки формата файлов при коммите

Предположим, у вас есть задача автоматизировать проверку формата файлов при коммите с использованием Git Hooks.

Перед каждым коммитом необходимо автоматически проверять, чтобы все .txt файлы в репозитории соответствовали определенному формату.

Создайте bash-скрипт, который будет выполнять проверку того, что коммитится файл формата .txt и в файле присутствует какой-то текст (например, в конце файла есть подпись автора, неважно как она выглядит, главное чтобы была какая-нибудь проверка содержимого файла). Далее поместите этот скрипт в нужную папку и проверьте, что перед каждым коммитом проходит проверка, например, добавьте вывод о результате проверки в консоль. За этот функционал отвечает Git Hooks, там сказазно как автоматизировать такую проверку.

## Решение задания

Bash-скрипт:

```bash
#!/bin/bash
find . -type f -name "*.txt" | while read -r file; do
    if ! grep "Author:" "$file"; then
        echo "Not find author at $file"
        # Используем стандартный код выхода для ошибок
        exit 1  
    fi
done
```

## Задание 2 - Использование Git Flow в проекте
 
Предположим, у вас есть задача на создание новой функциональности для вашего проекта с использованием Git Flow. Давайте рассмотрим конкретный пример. В примере важен не сам проект и его код (его тут вообще как такового нет), а принцип работы Git Flow.

# Выполнение задания

1. Убедился, что Git Flow установлен на локальной машине:

```
sudo apt-get install git-flow
```

2. В корне репозитория выполнил инициализацию Git Flow.

```
git flow init
```

3. Создал ветку для новой функциональности, она называется "task-management":

```
git flow feature start task-management
```

4. Внес изменения в код для добавления функционала управления задачами (в файл task_manager.py):

```
def create_task(title, description):
    # Логика создания задачи
    print(f"Создана новая задача: {title}")
```

Выполнил коммит изменения по мере разработки:

```
git add task_manager.py
git commit -m "Добавлен функционал управления задачами"


```

5. После завершения разработки функции завершил фичу и объединил ее с основной веткой:

```
git flow feature finish task-management

```

Git Flow автоматически переключится на ветку develop и выполнит слияние. Если есть конфликты, их нужно разрешить.

6. Переключитесь на ветку "develop" и начните создание релиза:

```
git checkout develop
git flow release start v1.0.0
```

7. Внес изменения, связанные с релизом (обновил версию в файле version.txt):

```
echo "v1.0.0" > version.txt
git add version.txt
git commit -m "Обновлена версия для релиза v1.0.0"

```

8. Завершил релиз и объединил его с ветками "develop" и "main":

```
git flow release finish v1.0.0
```

9. Создал hotfix:

```
git flow hotfix start hotfix-1.0.1
```

10. Внес изменения для исправления ошибки и коммите:

```
# Исправление ошибки
git add file_with_error.py
git commit -m "Исправлена критическая ошибка"
```

11. Завершил hotfix и объединил его с ветками "develop" и "main":

```
git flow hotfix finish hotfix-1.0.1
```

12. Завершение работы и отправка изменений на удаленный репозиторий. Отправил изменения на удаленный репозиторий:

```
git push origin develop
git push origin main
```



